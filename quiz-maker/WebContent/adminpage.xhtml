<!DOCTYPE html>
<html lang="en"
xmlns="http://www.w3.org/1999/xhtml"
xmlns:h="http://xmlns.jcp.org/jsf/html" 
xmlns:f="http://xmlns.jcp.org/jsf/core"
xmlns:p="http://primefaces.org/ui" 
xmlns:ui="http://java.sun.com/jsf/facelets" > 

<h:head><title>hello</title>
<h:outputStylesheet library="css" name="style.css" />

</h:head>

 <h:body >
 
 <ui:insert name="header" >
		  <ui:include src="header.xhtml" />
		</ui:insert>
		

      <h:form>
      <p:accordionPanel >
      <!-- paneli i Kategorive dhe veprimi per te pare pyetjet e nje kategorie te caktuar  --> 
        <p:tab title="Categories">
        <br></br>
        <br></br>
        <br></br>
          <p:dataTable  id="categoryTable" var="question" value="#{categoryBean.categories}" >
            <p:column headerText="Description">
              <h:outputText value="#{category.name}"/>
            </p:column>   
            <p:column headerText="Action" >       	
        <p:commandButton value="View Questions" icon="ui-icon-extlink" action="" >
        <p:ajax event="dialogReturn" listener="#{categoryBean.viewQuestions()}" />
        </p:commandButton>
            </p:column>   
          </p:dataTable>
        </p:tab>
        
        <!--  paneli i Userave dhe veprimi per te pare pyetjet e nje useri te caktuar  -->
        <p:tab title="users" style="background:red">
          <p:dataTable var="user" value="userBean.users">
            <p:column headerText="Description">
              <h:outputText value="user.username"/>
            </p:column>  
             <p:column> 
             <p:commandButton value="View Questions" icon="ui-icon-extlink" >
          <p:ajax event="dialogReturn" listener="#{dfView.onCarChosen}"  />
         </p:commandButton>
          </p:column>   
          </p:dataTable>
        
        
        </p:tab>
      
           
        
        <!--  paneli i pyetjeve  dhe klikimi  per te pare pyetjet e nje useri te caktuar  -->
        <p:tab title="users" >
          <p:dataTable var="question" value="questionBean.allQuestions">
            <p:column headerText="Description">
              <h:outputText value="question.name"/>
            </p:column>  
             <p:column> 
             <p:commandButton value="View Questions" icon="ui-icon-extlink">
          <p:ajax event="dialogReturn" listener="#{dfView.onCarChosen}"  />
         </p:commandButton>
         <p:growl id="message" showDetail="true" > </p:growl>
            	<p:commandLink value= "Delete" ajax="false" process="@form" action="#{questionBean.delete(question.id)}" >
            	<p:confirm message="Are you sure you want to delete it? " header="Confirmation" icon="ui-icon-alert" />
            	</p:commandLink>
                 <p:confirmDialog global="true" showEffect="fade" hidEffect="fade"  update="@form">
                 <p:commandButton value="Yes" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
                  <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
                  </p:confirmDialog>
          </p:column>   
          </p:dataTable>
        
        
        </p:tab>
      
      </p:accordionPanel>
 </h:form>
 
 
 </h:body>

</html>
