<!DOCTYPE html>
<html lang="en"
xmlns="http://www.w3.org/1999/xhtml"
xmlns:h="http://xmlns.jcp.org/jsf/html" 
xmlns:f="http://xmlns.jcp.org/jsf/core"
xmlns:p="http://primefaces.org/ui" 
xmlns:ui="http://java.sun.com/jsf/facelets" > 

	<h:head>
		<title>Setting</title>
		<h:outputStylesheet library="css" name="style.css" />
	</h:head>
	
	<h:body >
 
		<ui:insert name="header" >
			<ui:include src="user-header.xhtml" />
		</ui:insert>
		
		<p:spacer height="20" />
		
		<h:form>
		
			<p:commandLink id="changePassword"  >
				<h:outputText value="1.Change your password" />
			</p:commandLink>
			
			<p:overlayPanel id="moviePanel" for="changePassword" hideEffect="fade" dynamic="true">
			
			<!-- Password change -->
			
				<p:messages id="messages" showDetail="true" autoUpdate="true" />  
				<h:panelGrid columns="1" id="matchGrid" cellpadding="5">
				
					<h:outputLabel for="oldPwd" value="Old Password: *" /> 
					<p:password id="oldPwd" value="#{userBean.password}"  label="Password" required="true"  /> 
					<p:separator />
					
					<h:outputLabel for="pwd1" value="New password: *" />
					<p:password id="pwd1" value="#{userBean.newPassword}" match="pwd2" label="Password 1" required="true" feedback="true" />
					<p:separator />
					
					<h:outputLabel for="pwd2" value="Confirm new password *" />
					<p:password id="pwd2" value="#{userBean.newPassword}" label="Password 2" required="true" />
					
				</h:panelGrid>
				
				<p:commandButton update="matchGrid messages" value="Save" action="#{userBean.changePassword}"/>
				
			</p:overlayPanel>
			<p:spacer height="100" />
			<p:separator />
			
			
			<p:commandLink id="deactivateAccount"  >
				<h:outputText value="1.Deactivate your account" />
			</p:commandLink>
			
			<p:overlayPanel id="moviePanel1" for="deactivateAccount" hideEffect="fade" dynamic="true">
			
			<p:messages id="messages1" showDetail="true" autoUpdate="true" /> 
			
			<!-- Deactivate account-->
				
				<h:panelGrid columns="1" id="matchGrid1" cellpadding="5">
					
					<h:outputLabel for="password" value="Confirm your password *" />
					<p:password id="password" value="#{loginBean.password}" label="Password" required="true" />
					
				</h:panelGrid>
				
				<p:commandButton update="matchGrid1 messages1" value="Deactivate" action="#{loginBean.deactivateAccount}"/>
				
			</p:overlayPanel>
			
		</h:form>
		
		<p:spacer height="300" />
		
		<ui:insert name="footer" >
			<ui:include src="/footer.xhtml" />
		</ui:insert>
			
	</h:body>

</html>