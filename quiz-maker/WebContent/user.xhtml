<!DOCTYPE html>
<html lang="en"
xmlns="http://www.w3.org/1999/xhtml"
xmlns:h="http://xmlns.jcp.org/jsf/html" 
xmlns:f="http://xmlns.jcp.org/jsf/core"
xmlns:p="http://primefaces.org/ui" 
xmlns:ui="http://java.sun.com/jsf/facelets" > 

<h:head><title>Users</title>
<style>
       .error{color:red}
   
    </style>
    <h:outputStylesheet library="css" name="style.css" />
</h:head>

<h:body>

<ui:insert name="header" >
		  <ui:include src="header.xhtml" />
		</ui:insert>
		
 <h:form class="forma">
  <table >
  
  <tr>
     <td><label >Add Username</label></td>
      <td> <h:inputText id="username" value="#{userBean.user.username}" required="true" requiredMessage="*required" /> </td>
       <td colspan="2"><h:message for="username" styleClass="error" /></td>
   </tr>
   
   <tr>
     <td><label >Add Password</label></td>
      <td> <h:inputText id="password" required="true" value="#{userBean.user.password}" requiredMessage="*required"   /> </td>
       <td colspan="2"><h:message for="password" styleClass="error" /></td>
   </tr>
   
   <tr><td></td><td><h:commandButton action="#{userBean.add}" value="Add" process="@this @form" update="j_idt40:j_idt41:userTable forma" /> </td></tr>
  

  </table>
  
   <p:watermark value="new username" for="username"  />
  <p:watermark value="new password" for="password"  />
 

</h:form>

<br></br>
     
<h:form>
    
      <p:accordionPanel >
        <p:tab title="Users" style="background:red">
          <p:dataTable id="userTable" var="user" value="#{userBean.users}">
            <p:column headerText="Description">
              <h:outputText value="#{user.username}"/>
            </p:column>  
            <p:column headerText="Action" >    
            	<p:commandLink value= "Update" ajax="false" process="@this" action="#{userBean.select(user.id)}" /> 
            	<p:growl id="message" showDetail="true" > </p:growl>
            	| |
            	<p:commandLink value= "Delete" ajax="false" process="@this" action="#{userBean.delete(user.id)}" >
            	<p:confirm message="Are you sure you want to delete it? " header="Confirmation" icon="ui-icon-alert" />
            	</p:commandLink>
                 <p:confirmDialog global="true" showEffect="fade" hidEffect="fade"  update="@form">
                 <p:commandButton value="Yes" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
                  <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
                  </p:confirmDialog>
            
          
            </p:column>   
          
            
            
                 
          </p:dataTable>
        
        
        </p:tab>
        
        
      
      
      </p:accordionPanel>
</h:form>

</h:body>

</html>